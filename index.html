<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Text to Audio Converter</title>
    <script src="https://cdn.tailwindcss.com"></script>
</head>
<body class="bg-gray-100 flex flex-col items-center justify-between min-h-screen">
    <div class="flex-grow flex items-center justify-center w-full">
        <div class="bg-white p-6 rounded-lg shadow-lg w-full max-w-md">
            <h1 class="text-2xl font-bold text-center mb-4">Text to Audio Converter</h1>
            <textarea id="textInput" class="w-full p-2 border rounded-md mb-4" rows="5" placeholder="Enter text to convert to audio..."></textarea>
            <div class="mb-4">
                <label for="voiceSelect" class="block text-sm font-medium text-gray-700">Select Language:</label>
                <select id="voiceSelect" class="w-full p-2 border rounded-md"></select>
            </div>
            <div class="flex justify-center space-x-2">
                <button id="playBtn" class="bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600">Play</button>
                <button id="pauseBtn" class="bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600" disabled>Pause</button>
                <button id="stopBtn" class="bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600" disabled>Stop</button>
            </div>
        </div>
    </div>

    <footer class="bg-gray-800 text-white w-full py-4">
        <div class="container mx-auto text-center">
            <p class="text-sm">
                Created by 
                <a href="https://www.instagram.com/the.webboy/" target="_blank" rel="noopener noreferrer" class="underline hover:text-blue-300">
                    @the.webboy
                </a>
                <svg class="inline-block w-5 h-5 ml-1" fill="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 2.163c3.204 0 3.584.012 4.85.07 1.366.062 2.633.326 3.608 1.301.975.975 1.24 2.242 1.301 3.608.058 1.266.07 1.646.07 4.85s-.012 3.584-.07 4.85c-.062 1.366-.326 2.633-1.301 3.608-.975.975-2.242 1.24-3.608 1.301-1.266.058-1.646.07-4.85.07s-3.584-.012-4.85-.07c-1.366-.062-2.633-.326-3.608-1.301-.975-.975-1.24-2.242-1.301-3.608-.058-1.266-.07-1.646-.07-4.85s.012-3.584.07-4.85c.062-1.366.326-2.633 1.301-3.608.975-.975 2.242-1.24 3.608-1.301 1.266-.058 1.646-.07 4.85-.07zm0-2.163c-3.259 0-3.667.014-4.947.072-1.627.074-3.355.462-4.623 1.73-1.268 1.268-1.656 2.996-1.73 4.623-.058 1.28-.072 1.688-.072 4.947s.014 3.667.072 4.947c.074 1.627.462 3.355 1.73 4.623 1.268 1.268 2.996 1.656 4.623 1.73 1.28.058 1.688.072 4.947.072s3.667-.014 4.947-.072c1.627-.074 3.355-.462 4.623-1.73 1.268-1.268 1.656-2.996 1.73-4.623.058-1.28.072-1.688.072-4.947s-.014-3.667-.072-4.947c-.074-1.627-.462-3.355-1.73-4.623-1.268-1.268-2.996-1.656-4.623-1.73-1.28-.058-1.688-.072-4.947-.072zm0 5.838c-3.403 0-6.162 2.759-6.162 6.162s2.759 6.162 6.162 6.162 6.162-2.759 6.162-6.162-2.759-6.162-6.162-6.162zm0 10.162c-2.209 0-4-1.791-4-4s1.791-4 4-4 4 1.791 4 4-1.791 4-4 4zm6.406-11.845c-.796 0-1.441.645-1.441 1.441s.645 1.441 1.441 1.441 1.441-.645 1.441-1.441-.645-1.441-1.441-1.441z"/>
                </svg>
            </p>
        </div>
    </footer>

    <script>
        const textInput = document.getElementById('textInput');
        const voiceSelect = document.getElementById('voiceSelect');
        const playBtn = document.getElementById('playBtn');
        const pauseBtn = document.getElementById('pauseBtn');
        const stopBtn = document.getElementById('stopBtn');
        let voices = [];
        let utterance = null;

        // Populate voice list for English and Malayalam
        function populateVoiceList() {
            voices = speechSynthesis.getVoices().filter(voice => 
                voice.lang.startsWith('en') || voice.lang.startsWith('ml')
            );
            voiceSelect.innerHTML = '';
            if (voices.length === 0) {
                voiceSelect.innerHTML = '<option value="">No voices available</option>';
                alert('No English or Malayalam voices found on your device.');
                return;
            }
            voices.forEach((voice, index) => {
                const option = document.createElement('option');
                option.value = index;
                option.textContent = `${voice.name} (${voice.lang.startsWith('en') ? 'English' : 'Malayalam'})`;
                voiceSelect.appendChild(option);
            });
        }

        // Load voices
        populateVoiceList();
        if (speechSynthesis.onvoiceschanged !== undefined) {
            speechSynthesis.onvoiceschanged = populateVoiceList;
        }

        // Play button
        playBtn.addEventListener('click', () => {
            if (textInput.value.trim() === '') {
                alert('Please enter some text to convert.');
                return;
            }
            if (voices.length === 0) {
                alert('No voices available. Check your device settings.');
                return;
            }
            if (speechSynthesis.speaking && !speechSynthesis.paused) {
                return;
            }

            utterance = new SpeechSynthesisUtterance(textInput.value);
            const selectedVoice = voices[voiceSelect.value];
            utterance.voice = selectedVoice;
            utterance.lang = selectedVoice.lang;
            utterance.pitch = 1.0;
            utterance.rate = 0.9;

            speechSynthesis.speak(utterance);
            playBtn.disabled = true;
            pauseBtn.disabled = false;
            stopBtn.disabled = false;
        });

        // Pause button
       

 pauseBtn.addEventListener('click', () => {
            if (speechSynthesis.speaking && !speechSynthesis.paused) {
                speechSynthesis.pause();
                pauseBtn.textContent = 'Resume';
            } else if (speechSynthesis.paused) {
                speechSynthesis.resume();
                pauseBtn.textContent = 'Pause';
            }
        });

        // Stop button
        stopBtn.addEventListener('click', () => {
            speechSynthesis.cancel();
            playBtn.disabled = false;
            pauseBtn.disabled = true;
            stopBtn.disabled = true;
            pauseBtn.textContent = 'Pause';
        });

        // Reset buttons when speech ends
        utterance && (utterance.onend = () => {
            playBtn.disabled = false;
            pauseBtn.disabled = true;
            stopBtn.disabled = true;
            pauseBtn.textContent = 'Pause';
        });
    </script>
</body>
</html>
